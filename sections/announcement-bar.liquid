{% comment %}
  Announcement Bar Section
  Displays a promotional message at the top of the page
{% endcomment %}

{% if section.settings.show_announcement %}
  <div class="announcement-bar full-width text-white py-3">
    <div class="text-center px-4">
      {% if section.settings.announcement_icon %}
        <span class="inline-block mr-2">{{ section.settings.announcement_icon }}</span>
      {% endif %}

      {% if section.settings.announcement_link != blank %}
        <a href="{{ section.settings.announcement_link }}" class="text-sm font-medium font-sans hover:underline">
          {{ section.settings.announcement_text }}
        </a>
      {% else %}
        <span class="text-sm font-medium font-sans">{{ section.settings.announcement_text }}</span>
      {% endif %}
    </div>
  </div>
{% endif %}

{% schema %}
{
  "name": "Announcement Bar",
  "settings": [
    {
      "type": "checkbox",
      "id": "show_announcement",
      "label": "Show announcement bar",
      "default": true
    },
    {
      "type": "text",
      "id": "announcement_text",
      "label": "Announcement text",
      "default": "Welcome to our store!"
    },
    {
      "type": "url",
      "id": "announcement_link",
      "label": "Announcement link (optional)"
    },
    {
      "type": "html",
      "id": "announcement_icon",
      "label": "Icon HTML (optional)",
      "info": "Add an SVG or emoji icon"
    },
    {
      "type": "color",
      "id": "bg_color_start",
      "label": "Background color (start)",
      "default": "#a855f7"
    },
    {
      "type": "color",
      "id": "bg_color_end",
      "label": "Background color (end)",
      "default": "#ec4899"
    }
  ],
  "presets": [
    {
      "name": "Announcement Bar"
    }
  ]
}
{% endschema %}

<style>
  .announcement-bar {
    background: linear-gradient(to right, {{ section.settings.bg_color_start }}, {{ section.settings.bg_color_end }});
  }
</style>
