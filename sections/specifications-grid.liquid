{% comment %}
  Specifications Grid Section
  - Grid layout with icon + title + description
  - Fully customizable icons via SVG input
  - Responsive design
  - Perfect for product specifications, features, etc.
{% endcomment %}

<style>
  /* CSS Variables for dynamic settings */
  #shopify-section-{{ section.id }} {
    --spec-pad-top: {{ section.settings.padding_top_mobile | default: 48 }}px;
    --spec-pad-bottom: {{ section.settings.padding_bottom_mobile | default: 48 }}px;
    --spec-bg: {{ section.settings.bg_color | default: '#ffffff' }};
    --spec-title-color: {{ section.settings.title_color | default: '#0b0b0c' }};
    --spec-heading-color: {{ section.settings.heading_color | default: '#0b0b0c' }};
    --spec-desc-color: {{ section.settings.desc_color | default: 'rgba(11,11,12,0.7)' }};
    --spec-card-bg: {{ section.settings.card_bg_color | default: '#f5f7fa' }};
    --spec-card-radius: {{ section.settings.card_radius | default: 16 }}px;
    --spec-card-padding: {{ section.settings.card_padding | default: 24 }}px;
    --spec-gap: {{ section.settings.grid_gap | default: 16 }}px;
    --spec-icon-size: {{ section.settings.icon_size | default: 24 }}px;
    --spec-icon-color: {{ section.settings.icon_color | default: '#0b0b0c' }};
  }

  @media (min-width: 1024px) {
    #shopify-section-{{ section.id }} {
      --spec-pad-top: {{ section.settings.padding_top_desktop | default: 80 }}px;
      --spec-pad-bottom: {{ section.settings.padding_bottom_desktop | default: 80 }}px;
    }
  }

  /* Section background and padding */
  #shopify-section-{{ section.id }} .spec-section {
    padding-top: var(--spec-pad-top);
    padding-bottom: var(--spec-pad-bottom);
    background: var(--spec-bg);
    width: 100%;
  }

  /* Grid layout */
  #shopify-section-{{ section.id }} .spec-grid {
    display: grid;
    grid-template-columns: repeat(1, 1fr);
    gap: var(--spec-gap);
  }

  @media (min-width: 640px) {
    #shopify-section-{{ section.id }} .spec-grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  @media (min-width: 1024px) {
    #shopify-section-{{ section.id }} .spec-grid {
      grid-template-columns: repeat({{ section.settings.columns_desktop | default: 4 }}, 1fr);
    }
  }

  /* Card styling */
  #shopify-section-{{ section.id }} .spec-card {
    background: var(--spec-card-bg);
    border-radius: var(--spec-card-radius);
    padding: var(--spec-card-padding);
    transition: all 0.3s ease;
    display: flex;
    flex-direction: column;
    gap: 12px;
  }

  #shopify-section-{{ section.id }} .spec-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.08);
  }

  /* Icon styling */
  #shopify-section-{{ section.id }} .spec-icon {
    width: var(--spec-icon-size);
    height: var(--spec-icon-size);
    color: var(--spec-icon-color);
    flex-shrink: 0;
  }

  #shopify-section-{{ section.id }} .spec-icon svg {
    width: 100%;
    height: 100%;
    display: block;
  }

  /* Custom icon colors per block */
  {% for block in section.blocks %}
    {% if block.settings.custom_icon_color != blank %}
      #shopify-section-{{ section.id }} .spec-block-{{ forloop.index }} .spec-icon {
        color: {{ block.settings.custom_icon_color }};
      }
    {% endif %}
  {% endfor %}

  /* Typography */
  #shopify-section-{{ section.id }} .spec-card-title {
    font-size: 16px;
    font-weight: 600;
    color: var(--spec-heading-color);
    font-family: 'Mont', sans-serif;
    margin: 0;
    line-height: 1.4;
  }

  #shopify-section-{{ section.id }} .spec-card-desc {
    font-size: 14px;
    color: var(--spec-desc-color);
    font-family: 'Mont', sans-serif;
    margin: 0;
    line-height: 1.6;
  }

  @media (min-width: 1024px) {
    #shopify-section-{{ section.id }} .spec-card-title {
      font-size: 18px;
    }

    #shopify-section-{{ section.id }} .spec-card-desc {
      font-size: 15px;
    }
  }

  /* Animations */
  @keyframes fadeInUp {
    from { opacity: 0; transform: translateY(30px); }
    to { opacity: 1; transform: translateY(0); }
  }

  @keyframes fadeInDown {
    from { opacity: 0; transform: translateY(-20px); }
    to { opacity: 1; transform: translateY(0); }
  }

  #shopify-section-{{ section.id }} .spec-header {
    animation: fadeInDown 0.6s ease forwards;
  }

  #shopify-section-{{ section.id }} .spec-card {
    animation: fadeInUp 0.6s ease forwards;
    opacity: 0;
  }

  /* Staggered animation delays */
  {% for i in (1..20) %}
    #shopify-section-{{ section.id }} .spec-block-{{ i }} {
      animation-delay: {{ i | minus: 1 | times: 0.08 | plus: 0.1 }}s;
    }
  {% endfor %}
</style>

<div class="spec-section full-width w-full">
  <div class="container mx-auto px-4 sm:px-6 lg:px-8">

    <!-- Section Header -->
    {% if section.settings.section_title != blank or section.settings.section_description != blank %}
      <div class="spec-header text-center mb-8 lg:mb-12">
        {% if section.settings.section_title != blank %}
          <h2 class="text-3xl lg:text-5xl font-medium font-sans mb-4" style="color: var(--spec-title-color);">
            {{ section.settings.section_title }}
          </h2>
        {% endif %}

        {% if section.settings.section_description != blank %}
          <div class="text-base lg:text-lg font-sans max-w-2xl mx-auto" style="color: var(--spec-desc-color);">
            {{ section.settings.section_description }}
          </div>
        {% endif %}
      </div>
    {% endif %}

    <!-- Specifications Grid -->
    <div class="spec-grid">
      {% for block in section.blocks %}
        <div class="spec-card spec-block-{{ forloop.index }}" {{ block.shopify_attributes }}>

          <!-- Icon -->
          {% if block.settings.icon_svg != blank %}
            <div class="spec-icon">
              {{ block.settings.icon_svg }}
            </div>
          {% elsif block.settings.icon_type != 'none' %}
            <div class="spec-icon">
              {% case block.settings.icon_type %}
                {% when 'category' %}
                  <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"/>
                  </svg>
                {% when 'connection' %}
                  <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"/>
                  </svg>
                {% when 'battery' %}
                  <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"/>
                  </svg>
                {% when 'time' %}
                  <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/>
                  </svg>
                {% when 'charging' %}
                  <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M13 10V3L4 14h7v7l9-11h-7z"/>
                  </svg>
                {% when 'dimensions' %}
                  <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M3 6l3 1m0 0l-3 9a5.002 5.002 0 006.001 0M6 7l3 9M6 7l6-2m6 2l3-1m-3 1l-3 9a5.002 5.002 0 006.001 0M18 7l3 9m-3-9l-6-2m0-2v2m0 16V5m0 16H9m3 0h3"/>
                  </svg>
                {% when 'weight' %}
                  <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M3 6l3 1m0 0l-3 9a5.002 5.002 0 006.001 0M6 7l3 9M6 7l6-2m6 2l3-1m-3 1l-3 9a5.002 5.002 0 006.001 0M18 7l3 9m-3-9l-6-2m0-2v2m0 16V5m0 16H9m3 0h3"/>
                  </svg>
                {% when 'power' %}
                  <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M5.636 18.364a9 9 0 010-12.728m12.728 0a9 9 0 010 12.728m-9.9-2.829a5 5 0 010-7.07m7.072 0a5 5 0 010 7.07M13 12a1 1 0 11-2 0 1 1 0 012 0z"/>
                  </svg>
                {% when 'storage' %}
                  <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"/>
                  </svg>
                {% when 'compatibility' %}
                  <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z"/>
                  </svg>
                {% when 'droplet' %}
                  <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M7.05 3.691c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.372 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.539 1.118l-2.8-2.034a1 1 0 00-1.176 0l-2.8 2.034c-.783.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 9.483c-.784-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/>
                  </svg>
                {% when 'check' %}
                  <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
                  </svg>
                {% when 'star' %}
                  <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"/>
                  </svg>
                {% when 'shield' %}
                  <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"/>
                  </svg>
                {% when 'wifi' %}
                  <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M8.111 16.404a5.5 5.5 0 017.778 0M12 20h.01m-7.08-7.071c3.904-3.905 10.236-3.905 14.141 0M1.394 9.393c5.857-5.857 15.355-5.857 21.213 0"/>
                  </svg>
                {% when 'cube' %}
                  <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"/>
                  </svg>
              {% endcase %}
            </div>
          {% endif %}

          <!-- Title -->
          {% if block.settings.title != blank %}
            <h3 class="spec-card-title">{{ block.settings.title }}</h3>
          {% endif %}

          <!-- Description -->
          {% if block.settings.description != blank %}
            <p class="spec-card-desc">{{ block.settings.description }}</p>
          {% endif %}

        </div>
      {% endfor %}
    </div>

  </div>
</div>

{% schema %}
{
  "name": "Specifications Grid",
  "settings": [
    {
      "type": "header",
      "content": "Section Header"
    },
    {
      "type": "text",
      "id": "section_title",
      "label": "Section title",
      "default": "Specifications"
    },
    {
      "type": "richtext",
      "id": "section_description",
      "label": "Section description"
    },
    {
      "type": "header",
      "content": "Layout Settings"
    },
    {
      "type": "range",
      "id": "columns_desktop",
      "min": 2,
      "max": 6,
      "step": 1,
      "label": "Columns (desktop)",
      "default": 4
    },
    {
      "type": "range",
      "id": "grid_gap",
      "min": 8,
      "max": 48,
      "step": 4,
      "unit": "px",
      "label": "Grid gap",
      "default": 16
    },
    {
      "type": "range",
      "id": "card_radius",
      "min": 0,
      "max": 32,
      "step": 2,
      "unit": "px",
      "label": "Card corner radius",
      "default": 16
    },
    {
      "type": "range",
      "id": "card_padding",
      "min": 12,
      "max": 48,
      "step": 4,
      "unit": "px",
      "label": "Card padding",
      "default": 24
    },
    {
      "type": "header",
      "content": "Icon Settings"
    },
    {
      "type": "range",
      "id": "icon_size",
      "min": 16,
      "max": 48,
      "step": 2,
      "unit": "px",
      "label": "Icon size",
      "default": 24
    },
    {
      "type": "color",
      "id": "icon_color",
      "label": "Default icon color",
      "default": "#0b0b0c"
    },
    {
      "type": "header",
      "content": "Section Padding"
    },
    {
      "type": "range",
      "id": "padding_top_mobile",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "Top padding (mobile)",
      "default": 48
    },
    {
      "type": "range",
      "id": "padding_bottom_mobile",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "Bottom padding (mobile)",
      "default": 48
    },
    {
      "type": "range",
      "id": "padding_top_desktop",
      "min": 0,
      "max": 152,
      "step": 4,
      "unit": "px",
      "label": "Top padding (desktop)",
      "default": 80
    },
    {
      "type": "range",
      "id": "padding_bottom_desktop",
      "min": 0,
      "max": 152,
      "step": 4,
      "unit": "px",
      "label": "Bottom padding (desktop)",
      "default": 80
    },
    {
      "type": "header",
      "content": "Colors"
    },
    {
      "type": "color",
      "id": "bg_color",
      "label": "Section background",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "card_bg_color",
      "label": "Card background",
      "default": "#f5f7fa"
    },
    {
      "type": "color",
      "id": "title_color",
      "label": "Section title color",
      "default": "#0b0b0c"
    },
    {
      "type": "color",
      "id": "heading_color",
      "label": "Card heading color",
      "default": "#0b0b0c"
    },
    {
      "type": "color",
      "id": "desc_color",
      "label": "Description color",
      "default": "rgba(11,11,12,0.7)"
    }
  ],
  "blocks": [
    {
      "type": "specification_item",
      "name": "Specification",
      "limit": 20,
      "settings": [
        {
          "type": "text",
          "id": "title",
          "label": "Title",
          "default": "Feature Name"
        },
        {
          "type": "textarea",
          "id": "description",
          "label": "Description",
          "default": "Feature description goes here"
        },
        {
          "type": "header",
          "content": "Icon Settings"
        },
        {
          "type": "select",
          "id": "icon_type",
          "label": "Icon type",
          "options": [
            { "value": "none", "label": "No icon" },
            { "value": "category", "label": "Category (Tag)" },
            { "value": "connection", "label": "Connection (Link)" },
            { "value": "battery", "label": "Battery" },
            { "value": "time", "label": "Time (Clock)" },
            { "value": "charging", "label": "Charging (Lightning)" },
            { "value": "dimensions", "label": "Dimensions (Ruler)" },
            { "value": "weight", "label": "Weight (Scale)" },
            { "value": "power", "label": "Power (Radio waves)" },
            { "value": "storage", "label": "Storage (Database)" },
            { "value": "compatibility", "label": "Compatibility (Phone)" },
            { "value": "droplet", "label": "Droplet/Refill" },
            { "value": "check", "label": "Check Circle" },
            { "value": "star", "label": "Star" },
            { "value": "shield", "label": "Shield (Security)" },
            { "value": "wifi", "label": "WiFi/Signal" },
            { "value": "cube", "label": "Cube (3D)" }
          ],
          "default": "check",
          "info": "Choose from predefined icons or use custom SVG below"
        },
        {
          "type": "html",
          "id": "icon_svg",
          "label": "Custom Icon SVG (optional)",
          "info": "Paste complete SVG code here. This will override the icon type above. Example: <svg viewBox='0 0 24 24' fill='none' stroke='currentColor'><path d='...' /></svg>"
        },
        {
          "type": "color",
          "id": "custom_icon_color",
          "label": "Custom icon color (optional)",
          "info": "Leave blank to use default icon color"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Specifications Grid",
      "blocks": [
        {
          "type": "specification_item",
          "settings": {
            "title": "Category",
            "description": "Product category information",
            "icon_type": "category"
          }
        },
        {
          "type": "specification_item",
          "settings": {
            "title": "Connection",
            "description": "Bluetooth for reliable connectivity",
            "icon_type": "connection"
          }
        },
        {
          "type": "specification_item",
          "settings": {
            "title": "Battery Capacity",
            "description": "280 mAh rechargeable Li-ion",
            "icon_type": "battery"
          }
        },
        {
          "type": "specification_item",
          "settings": {
            "title": "Battery Life (Writing)",
            "description": "Up to 14 hours of continuous use",
            "icon_type": "time"
          }
        },
        {
          "type": "specification_item",
          "settings": {
            "title": "Charging Time",
            "description": "~90 minutes (full charge)",
            "icon_type": "charging"
          }
        },
        {
          "type": "specification_item",
          "settings": {
            "title": "Charging Method",
            "description": "USB Type-C cable (included)",
            "icon_type": "charging"
          }
        },
        {
          "type": "specification_item",
          "settings": {
            "title": "Dimensions",
            "description": "149.6 mm x 10.4 - 10.9 mm",
            "icon_type": "dimensions"
          }
        },
        {
          "type": "specification_item",
          "settings": {
            "title": "Weight",
            "description": "17.6 g",
            "icon_type": "weight"
          }
        }
      ]
    }
  ]
}
{% endschema %}
